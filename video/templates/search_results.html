{% load i18n %}

<!DOCTYPE html>
<html lang="{{ LANGUAGE_CODE }}">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>{% trans "Resultados da pesquisa" %} - {{ query }}</title>

<style>
body { background:#000; color:#fff; font-family: Arial, sans-serif; margin:20px; }
h1 { color:#f00; margin-bottom:20px; text-align:center; }
.grid { display:grid; grid-template-columns:repeat(2,1fr); gap:12px; }
.card { background:#0f0f0f; border-radius:12px; overflow:hidden; transition:0.25s; }
.card:hover { transform:scale(1.03); }
.thumb { width:100%; height:260px; overflow:hidden; }
.thumb img { width:100%; height:100%; object-fit:cover; }
.card p { margin:0; padding:8px; font-size:14px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
footer { margin-top:30px; text-align:center; color:#aaa; }
</style>
</head>

<body>

{% include 'message.html' %}

<h1>{% trans "Resultados para" %} "{{ query }}"</h1>

{% if categorias %}
<h2>{% trans "Categorias relacionadas:" %}</h2>
<ul>
    {% for c in categorias %}
        <li><a href="#">{{ c.nome }}</a></li>
    {% endfor %}
</ul>
{% endif %}

{% if videos %}
<h2>{% trans "Vídeos relacionados:" %}</h2>
<div class="grid">
    {% for v in videos %}
    <a href="{% url 'ver_video' v.slug %}" class="card">
        <div class="thumb">
            <img src="{{ v.capa.url }}">
        </div>
        <p title="{{ v.titulo }}">{{ v.titulo }}</p>
    </a>
    {% endfor %}
</div>
{% else %}
<p>{% trans "Nenhum vídeo encontrado. Aqui estão alguns aleatórios:" %}</p>
<div class="grid">
    {% for v in videos %}
    <a href="{% url 'ver_video' v.slug %}" class="card">
        <div class="thumb">
            <img src="{{ v.capa.url }}">
        </div>
        <p title="{{ v.titulo }}">{{ v.titulo }}</p>
    </a>
    {% endfor %}
</div>
{% endif %}

<footer>© 2026 XPPP</footer>

</body>
</html>
